.model small
.code
org 256
s:	push	cs
	pop	ds
	call	t
db	'СҐ$'
t:	pop	dx
	mov	ah,9
	int	33
	mov	ah,76
	int	33
end s
ЯЯЯЯЯЯЯЭ
;ЫЫЫЫЫЫЫ  ‘…ѓЊ…Ќ’ ‘’…ЉЂ  ЫЫЫЫЫЫЫЫЫЫЫЫ
;      ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ          Ы
                                   ;Ы
sseg    segment PARA STACK 'stack' ;Ы
        dw      100 DUP (?)        ;Ы
sseg    ends                       ;Ы
                                   ;Ы
;ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ


;    ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЭ
;ЫЫЫЫЫ   ‘…ѓЊ…Ќ’ „ЂЌЌ›•   ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЭ
;    ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ                         Э
dseg    segment PARA    'data'                     ;Э
Mess0   db      'Press any key or move a mouse$'   ;Э
Mess1   db      'ЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬ$'                 ;Э
Mess2   db      'Ы      Ы      Ы$'                 ;Э
Mess3   db      'Ы      Ы      Ы$'                 ;Э
Mess4   db      'Ы      Ы      Ы$'                 ;Э
Mess5   db      'ЫЯЯЯЯЯЯЯЯЯЯЯЯЯЫ$'                 ;Э
Mess6   db      'Ы             Ы$'                 ;Э
Mess7   db      'Ы             Ы$'                 ;Э
Mess8   db      'Ы             Ы$'                 ;Э
Mess9   db      'Ы             Ы$'                 ;Э
Mess10  db      'Ы             Ы$'                 ;Э
Mess11  db      'ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯ$'                 ;Э                                                   ;Э
Mess12  db	'±±±±±±$'                          ;Э
	db      '°°°°°°$'                          ;Э                                                   ;Э
MessX	db	'X:$'                              ;Э
MessY	db	'Y:$'                              ;Э
ResAsc  db      '  ',13,10,'$'                     ;Э
ResBin  db      0                                  ;Э
TenB    db      10                                 ;Э
Ch1     dw      0               ;‘®бв®п­ЁҐ 1 Є­®ЇЄЁ Э
Ch2     dw      0               ;‘®бв®п­ЁҐ 2 Є­®ЇЄЁ Э
Pred_X  db      0               ;ЏаҐ¤л¤гйҐҐ X       Э
Pred_Y  db      0               ;ЏаҐ¤л¤гйҐҐ Y       Э
Pred_BX dw      0               ;ЏаҐ¤л¤гйҐҐ Bx      Э
dseg    ends                                       ;Э                                                   ;Э
;ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЭ


;    ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЭ
;ЫЫЫЫЫ   ‘…ѓЊ…Ќ’ ЉЋ„Ђ     ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
;    ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ

cseg    segment PARA    'code'
        ASSUME  cs:cseg, ds:dseg, ss:sseg

;    ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЭ
;ЫЫЫЫЫ       ЊЂЉђЋ        ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЭ
;    ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ                                             Э
                                                                       ;Э
                                                                       ;Э
                                                                       ;Э
;      ЮЯЯЯЯЯЯЯЯЯЭ                                                      Э
;      Ю   CLS   Э               ЋзЁй Ґв нЄа ­                          Э
;      ЮЬЬЬЬЬЬЬЬЬЭ                                                      Э
                                                                       ;Э
cls     macro                                                          ;Э
        push	ax                                                     ;Э
	push	bx                                                     ;Э
	push	cx                                                     ;Э
	push	dx                                                     ;Э
	mov     ax,0600h        ; Ќ®¬Ґа дг­ЄжЁЁ "бЄа®««Ё­Ј"             Э
        mov     bh,07           ; ЂваЁЎгв нЄа ­  (зҐа­®-ЎҐ«л©)          Э
        mov     cx,0000         ; ‹Ґў п ўҐае­пп Ї®§ЁжЁп Єгаб®а          Э
        mov     dx,184Fh        ; Џа ў п ­Ё¦­пп                         Э
        int     10h                                                    ;Э
	pop	dx                                                     ;Э
	pop	cx                                                     ;Э
	pop 	bx                                                     ;Э
	pop	ax                                                     ;Э
endm    cls                                                            ;Э
                                                                       ;Э
;       ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЭ                                                 Э
;       Ю   CUR X,Y   Э          Џ®§ЁжЁ®­ЁагҐв Єгаб®а ў X,Y             Э
;       ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЭ                                                 Э
                                                                       ;Э
cur     macro   stolb,strok                                            ;Э
        push	dx                                                     ;Э
	push	ax                                                     ;Э
	push	bx                                                     ;Э
	mov     dh,strok        ; Ќ®¬Ґа бва®ЄЁ                          Э
        mov     dl,stolb        ; Ќ®¬Ґа бв®«Ўж                          Э
        mov     ah,02           ; Ќ®¬Ґа дг­ЄжЁЁ "Ї®§ЁжЁ®­Ёа®ў ­ЁҐ"      Э
        mov     bh,00           ; ќа ­­л© аҐ¦Ё¬ 0                       Э
        int     10h                                                    ;Э
	pop	bx                                                     ;Э
	pop	ax                                                     ;Э
	pop	dx                                                     ;Э
endm    cur                                                            ;Э
                                                                       ;Э
;       ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЭ                                            Э
;       Ю WRITE_P Text,S   Э          ‚лў®¤Ёв Text ­  нЄа ­             Э
;       ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ          (­г¦­® ¤«п Їа®жҐ¤га Button)       Э
                                                                       ;Э
write_p macro   str,fgh                                                ;Э
        push	ax                                                     ;Э
	push	dx                                                     ;Э
	mov     ah,09           ; Ќ®¬Ґа дг­ЄжЁЁ "ўлў®¤ бЁ¬ў®« "         Э
        lea     dx,str		; Ђ¤аҐб б®®ЎйҐ­Ёп ў dx                  Э
        add     dx,fgh                                                 ;Э
        int     21h                                                    ;Э
        cur     1,26            ;Џ®§ЁжЁ®­ЁагҐ¬ Єгаб®а §  нЄа ­         ;Э
	pop	dx                                                     ;Э
	pop	ax                                                     ;Э
endm    write                                                          ;Э
                                                                       ;Э
;       ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЭ                                                 Э
;       Ю  WRITE Text Э          ‚лў®¤Ёв Text ­  нЄа ­                  Э
;       ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЭ                                                 Э
                                                                       ;Э
write   macro   stroka                                                 ;Э
        push	ax                                                     ;Э
	push	dx                                                     ;Э
	mov     ah,09           ; Ќ®¬Ґа дг­ЄжЁЁ "ўлў®¤ бЁ¬ў®« "         Э
        lea     dx,stroka	; Ђ¤аҐб б®®ЎйҐ­Ёп ў dx                  Э
        int     21h                                                    ;Э
	pop	dx                                                     ;Э
	pop	ax                                                     ;Э
endm    write                                                          ;Э
                                                                       ;Э
;       ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЭ                                           Э
;       Ю  PRINT Text, X, Y Э    ‚лў®¤Ёв Text ­  нЄа ­ ў Ї®§ЁжЁо X,Y    Э
;       ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ                                           Э
                                                                       ;Э
print   macro   Text,xxx,yyy                                           ;Э
        cur     xxx,yyy         ;Џ®§ЁжЁ®­ЁагҐв Єгаб®а ў xxx,yyy         Э
        write   Text            ;‚лў®¤Ёв Text                           Э
endm    print                                                          ;Э
                                                                       ;Э
;ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЭ



;    ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЭ
;ЫЫЫЫЫ Ћ‘ЌЋ‚ЌЂџ ЏђЋ–…„“ђЂ ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ
;    ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ

main    proc    far
        push    ds               ;ђҐЈЁбва бҐЈ¬Ґ­в  ¤ ­­ле ds ў бвҐЄ
        sub     ax,ax            ;ЋзЁй Ґ¬ аҐЈЁбва ax
        push    ax               ;    Ё Ї®¬Ґй Ґ¬ ў бвҐЄ
        mov     ax,dseg          ;Ђ¤аҐб бҐЈ¬Ґ­в  Є®¤ 
        mov     ds,ax            ;    ў ds

        cls                      ;ЋзЁбвЄ  нЄа ­ 
;-------------------------------------------------------------------
	Print	Mess0,25,0       ;ЏҐз в Ґ¬ Mess0 ў 25 бв®«ЎжҐ, 0 бва®ЄҐ
        call    ShowMouse        ;Џ®Є § вм Єгаб®а ¬лиЄЁ
        call    Contur           ;Ќ аЁб®ў вм Є®­вга ­  нЄа ­Ґ
        call    Button1          ;Џ®¬Ґ­пвм жўҐв 1 Є­®ЇЄЁ ¬лиЄЁ
        call    Button2          ;Џ®¬Ґ­пвм жўҐв 2 Є­®ЇЄЁ ¬лиЄЁ
	call	Buffer           ;ЋзЁбвЁвм ЎгдҐа Є« ўЁ вгал
                           ;ЯЯЯЭ
Cikl:   call    ReadKey       ;Э  ‘зЁв вм Ё¬ҐойЁҐбп ¤ ­­лҐ б Є« ўЁ вгал
	jnz	Exit          ;Э  …б«Ё ­ ¦ «Ё ­  Є« ўЁиг, в® ­  Exit
                              ;Э
        call    ReadMouse     ;Э  ‘зЁв вм ў bx, cx, dx Ё­д®а¬ жЁо ® ¬лиЄҐ
                              ;Э
	call    StateMouse    ;Э  ЋЎа Ў®в вм б®бв®п­ЁҐ ¬лиЄЁ
        jmp     Cikl          ;Э  Ќ  ­ з «® жЁЄ« 
                           ;ЬЬЬЭ
Exit:   call    HideMouse        ;‘Їапв вм Єгаб®а ¬лиЄЁ
	cls                      ;ЋзЁбвЄ  нЄа ­ 

;-------------------------------------------------------------------
	ret                      ; ‚®§ўа в ў DOS
main    endp
;             ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЭ
;ЫЫЫЫЫЫЫЫЫЫЫЫЫЫ     ЏђЋ–…„“ђ›     ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЭ
;             ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ                                             Э


;       ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЭ
;Contur Ю     ђЁб®ў ­ЁҐ Є®­вга  ¬лиЄЁ   Э
;       ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ


Contur  proc    near
        print   Mess1,12,3      ;ЏҐз в Ґ¬ Mess1 ў 12 бв®«ЎжҐ, 3 бва®ЄҐ
        print   Mess2,12,4      ;ЏҐз в Ґ¬ Mess2 ў 12 бв®«ЎжҐ, 4 бва®ЄҐ
        print   Mess3,12,5      ;ЏҐз в Ґ¬ Mess3 ў 12 бв®«ЎжҐ, 5 бва®ЄҐ
        print   Mess4,12,6      ;ЏҐз в Ґ¬ Mess4 ў 12 бв®«ЎжҐ, 6 бва®ЄҐ
        print   Mess5,12,7      ;ЏҐз в Ґ¬ Mess5 ў 12 бв®«ЎжҐ, 7 бва®ЄҐ
        print   Mess6,12,8      ;ЏҐз в Ґ¬ Mess6 ў 12 бв®«ЎжҐ, 8 бва®ЄҐ
        print   Mess7,12,9      ;ЏҐз в Ґ¬ Mess7 ў 12 бв®«ЎжҐ, 9 бва®ЄҐ
        print   Mess8,12,10     ;ЏҐз в Ґ¬ Mess8 ў 12 бв®«ЎжҐ, 10 бва®ЄҐ
        print   Mess9,12,11     ;ЏҐз в Ґ¬ Mess9 ў 12 бв®«ЎжҐ, 11 бва®ЄҐ
        print   Mess10,12,12    ;ЏҐз в Ґ¬ Mess10 ў 12 бв®«ЎжҐ, 12 бва®ЄҐ
        print   Mess11,12,13    ;ЏҐз в Ґ¬ Mess11 ў 12 бв®«ЎжҐ, 13 бва®ЄҐ
        print   MessX,17,9      ;ЏҐз в Ґ¬ MessX ў 17 бв®«ЎжҐ, 9 бва®ЄҐ
        print   MessY,17,11     ;ЏҐз в Ґ¬ MessY ў 17 бв®«ЎжҐ, 11 бва®ЄҐ
	ret
endp    Contur


;         ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЭ
; Button1 Ю   Џ®¬Ґ­пвм жўҐв 1 Є­®ЇЄЁ ¬лиЄЁ  (Ch = 0  -  вҐ¬­ п Є­®ЇЄ   Э
;         Ю                                 Ch = 7  -  бўҐв« п Є­®ЇЄ ) Э
;         ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ


Button1 proc    near
        cmp     Ch1,0           ;Љ­®ЇЄ  - вҐ¬­ п,
        je      But1            ;Ґб«Ё ¤  в® Ё¤вЁ ­  § ¬Ґ­г бўҐв«®©,
        mov     Ch1,0           ;Ё­ зҐ § ¬Ґ­Ёвм ­  вҐ¬­го
        jmp     Ris_Ch1         ;€¤вЁ ­  аЁб®ў ­ЁҐ 1 Є­®ЇЄЁ
But1:   mov     Ch1,7           ;‡ ¬Ґ­Ёвм ­  бўҐв«го
Ris_Ch1:cur     13,4            ;Џ®§ЁжЁ®­ЁагҐ¬ Єгаб®а ў 13 бв®«ЎҐж, 4 бва®Єг
        write_p Mess12,Ch1      ;Ќ аЁб®ў вм ўҐае­оо з бвм Є­®ЇЄЁ
        cur     13,5            ;Џ®§ЁжЁ®­ЁагҐ¬ Єгаб®а ў 13 бв®«ЎҐж, 5 бва®Єг
        write_p Mess12,Ch1      ;Ќ аЁб®ў вм баҐ¤­оо з бвм Є­®ЇЄЁ
        cur     13,6            ;Џ®§ЁжЁ®­ЁагҐ¬ Єгаб®а ў 13 бв®«ЎҐж, 6 бва®Єг
        write_p Mess12,Ch1      ;Ќ аЁб®ў вм ­Ё¦­оо з бвм Є­®ЇЄЁ
	ret
endp    Button1


;         ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЭ
; Button2 Ю    Џ®¬Ґ­пвм жўҐв 2 Є­®ЇЄЁ ¬лиЄЁ  (Ch = 0  -  вҐ¬­ п Є­®ЇЄ     Э
;         Ю                                  Ch = 7  -  бўҐв« п Є­®ЇЄ )   Э
;         ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ


Button2 proc    near
        cmp     Ch2,0           ;Љ­®ЇЄ  - вҐ¬­ п,
        je      But2            ;Ґб«Ё ¤  в® Ё¤вЁ ­  § ¬Ґ­г бўҐв«®©,
        mov     Ch2,0           ;Ё­ зҐ § ¬Ґ­Ёвм ­  вҐ¬­го
        jmp     Ris_Ch2         ;€¤вЁ ­  аЁб®ў ­ЁҐ 2 Є­®ЇЄЁ
But2:   mov     Ch2,7           ;‡ ¬Ґ­Ёвм ­  бўҐв«го
Ris_Ch2:cur     20,4            ;Џ®§ЁжЁ®­ЁагҐ¬ Єгаб®а ў 20 бв®«ЎҐж, 4 бва®Єг
        write_p Mess12,Ch2      ;Ќ аЁб®ў вм ўҐае­оо з бвм Є­®ЇЄЁ
        cur     20,5            ;Џ®§ЁжЁ®­ЁагҐ¬ Єгаб®а ў 20 бв®«ЎҐж, 5 бва®Єг
        write_p Mess12,Ch2      ;Ќ аЁб®ў вм баҐ¤­оо з бвм Є­®ЇЄЁ
        cur     20,6            ;Џ®§ЁжЁ®­ЁагҐ¬ Єгаб®а ў 20 бв®«ЎҐж, 6 бва®Єг
        write_p Mess12,Ch2      ;Ќ аЁб®ў вм ­Ё¦­оо з бвм Є­®ЇЄЁ
	ret
endp    Button2


;              ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЭ
;  StateMouse  Ю   ЋЎа Ў®в вм б®бв®п­ЁҐ ¬лиЄЁ   Э
;              ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ


StateMouse   proc    near
        push    ax
        push    cx
	push    dx
        mov	ax,cx           ;‚ ax ­®¬Ґа бв®«Ўж  Єгаб®а  ¬лиЄЁ
	mov	cl,3            ;Џ®¤Ј®в®ўЄ  Є ¤Ґ«Ґ­Ёо ­  8
	shr	ax,cl           ;„Ґ«Ґ­ЁҐ ax ­  8
	shr	dx,cl           ;„Ґ«Ґ­ЁҐ dx ­  8
	inc	dl              ;“ўҐ«ЁзЁў Ґ¬ dl Ё al ­  1, зв®Ўл Є®®а¤Ё­ вл
	inc	al              ;    Ўл«Ё 1..80, 1..20,   ­Ґ 0..79, 0..19
        cmp     al,Pred_X       ;‘а ў­Ёў Ґ¬ вҐЄгйЁ© бв®«ЎҐж б ЇаҐ¤л¤гйЁ¬,
        je      L_X             ; Ґб«Ё ®­ ­Ґ Ї®¬Ґ­п«бп, в® Ё¤вЁ ¤ «миҐ,
	mov     ResBin,al       ; Ё­ зҐ ЇаҐ®Ўа §®ў вм ҐЈ® ў ¤ҐбпвЁз­л© д®а¬ в
	call    Bin2Asc         ;    Ё ўлўҐбвЁ ­  нЄа ­
	print 	ResAsc,20,9     ;ЏҐз в Ґ¬ ResAsc ў 20 бв®«ЎжҐ, 9 бва®ЄҐ
        mov     Pred_X,al       ;‡ Ї®¬­Ёвм §­ зҐ­ЁҐ бв®«Ўж 

L_X:    cmp     dl,Pred_Y       ;‘а ў­Ёў Ґ¬ вҐЄгйго бва®Єг б ЇаҐ¤л¤гйҐ©,
        je      L_Y             ; Ґб«Ё ®­  ­Ґ Ї®¬Ґ­п« бм, в® Ё¤вЁ ¤ «миҐ,
        mov     ResBin,dl       ; Ё­ зҐ ЇаҐ®Ўа §®ў вм ҐҐ ў ¤ҐбпвЁз­л© д®а¬ в
	call    Bin2Asc         ;    Ё ўлўҐбвЁ ­  нЄа ­
        print 	ResAsc,20,11    ;ЏҐз в Ґ¬ ResAsc ў 20 бв®«ЎжҐ, 11 бва®ЄҐ
        mov     Pred_Y,dl       ;‡ Ї®¬­Ёвм §­ зҐ­ЁҐ бва®ЄЁ

L_Y:    cmp     Pred_BX,bx      ;‘а ў­Ёвм ЇаҐ¤л¤гйҐҐ ­ ¦ вЁҐ Є­®Ї®Є б вҐЄгйЁ¬,
        je      LLL             ;  Ґб«Ё ®­Ё б®ўЇ ¤ ов в® Ё¤вЁ ­  ўле®¤

        cmp     bx,1            ;Ѓл«  «Ё ­ ¦ в  1 Є­®ЇЄ ,
        je      L_1_0           ; Ґб«Ё ¤  в® Ї®¬Ґ­пвм жўҐв 1 Є­®ЇЄЁ

        cmp     bx,2            ;Ѓл«  «Ё ­ ¦ в  2 Є­®ЇЄ 
        Je      L_0_1           ; Ґб«Ё ¤  в® Ї®¬Ґ­пвм жўҐв 2 Є­®ЇЄЁ

        cmp     bx,3            ;Ѓл«Ё «Ё ­ ¦ вл ®ЎҐ Є­®ЇЄЁ
        Je      L_1_1           ; Ґб«Ё ¤  в® Ї®¬Ґ­пвм жўҐв ®ЎҐЁе Є­®Ї®Є

        jmp     LLL             ;€¤вЁ ­  ўле®¤

L_1_0:  call    Button1         ;Џ®¬Ґ­пвм жўҐв 1 Є­®ЇЄЁ ¬лиЄЁ
        jmp     LLL             ;€¤вЁ ­  ўле®¤

L_0_1:  call    Button2         ;Џ®¬Ґ­пвм жўҐв 2 Є­®ЇЄЁ ¬лиЄЁ
        jmp     LLL             ;€¤вЁ ­  ўле®¤

L_1_1:  call    Button1         ;Џ®¬Ґ­пвм жўҐв 1 Є­®ЇЄЁ ¬лиЄЁ
        call    Button2         ;Џ®¬Ґ­пвм жўҐв 2 Є­®ЇЄЁ ¬лиЄЁ

LLL:    pop     dx
        pop     cx
        pop     ax
        cur     1,26            ;Џ®§ЁжЁ®­ЁагҐ¬ Єгаб®а §  нЄа ­
        ret
endp    StateMouse


;            ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЭ
; ShowMouse  Ю   Џ®Є § вм Єгаб®а ¬лиЄЁ   Э
;            ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ


ShowMouse       proc       near
        mov     ax,0001h        ;”г­ЄжЁп ­ҐбЄалв®Ј® Єгаб®а 
        int     33h             ;ЏаҐалў ­ЁҐ ¤«п ¬лиЄЁ
        ret
endp    ShowMouse


;           ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЭ
; HideMouse Ю    ‘Їапв вм Єгаб®а ¬лиЄЁ    Э
;           ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ


HideMouse       proc       near
        mov     ax,0002h        ;”г­ЄжЁп бЄалв®Ј® Єгаб®а 
        int     33h             ;ЏаҐалў ­ЁҐ ¤«п ¬лиЄЁ
        ret
endp    HideMouse


;            ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЭ
; ReadMouse  Ю   ‘зЁв вм ў bx, cx, dx Ё­д®а¬ жЁо ® ¬лиЄҐ   Э
;            ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ


ReadMouse       proc       near
        push    ax
        mov     Pred_BX,bx       ;‡ Ї®¬­Ёвм ЇаҐ¤л¤гйҐҐ §­ зҐ­ЁҐ bx
                                 ;        (bx ®вўҐз Ґв §  Є­®ЇЄЁ ¬лиЄЁ)
        mov     ax,0003h         ;”г­ЄжЁп бзЁвлў ­Ёп Ё­д®а¬ жЁЁ ® ¬лиЄҐ
        int     33h              ;ЏаҐалў ­ЁҐ ¤«п ¬лиЄЁ
        pop     ax
        ret
endp    ReadMouse


;          ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЭ
; Bin2Asc  Ю    ЏаҐ®Ўа §®ў ­ЁҐ Bin ў ASCII     Э
;          ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ


Bin2Asc proc	near
        push	ax
	push	si
	mov	ResAsc,' '
	lea     si,ResAsc+1	; Ђ¤аҐб Ї®«п ¤«п Їа ў®© жЁдал ў ResAsc
        mov     ah,0
        mov     al,ResBin       ; —Ёб«® ¤«п ЇаҐ®Ўа §®ў ­Ёп
Next2:  cmp     al,10		; —Ёб«® <10 ?
        jl      Ex	        ; „  - ўле®¤
        mov     ah,0		; ЋзЁй Ґ¬ з бвм ¤Ґ«Ё¬®Ј®
        div     TenB            ; „Ґ«Ё¬ ­  10
        add     ah,30h          ; „®Ў ў«пҐ¬ Є жЁдаҐ "3"
        mov     [si],ah         ; ‡ ЇЁблў Ґ¬ ®зҐаҐ¤­®© бЁ¬ў®«
        dec     si
        jmp     Next2           ; Џ®ўв®а
Ex:     add     al,30h          ; „®Ў ў«пҐ¬ Є жЁдаҐ "3"
        mov     [si],al         ; ‡ ЇЁблў Ґ¬ Ї®б«Ґ¤­Ё© бЁ¬ў®«
	pop	ax
	pop	si
        ret
Bin2Asc endp


;         ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЭ
; Buffer  Ю  ЋзЁбвЄ  ЎгдҐа  Є« ўЁ вгал  Э
;         ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ


Buffer	proc	near
	mov	ax,0c00h        ;”г­ЄжЁп ®зЁбвЄЁ ЎгдҐа  Є« ўЁ вгал
	int	21h
	ret
Buffer	endp


;          ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЭ
; ReadKey  Ю    ‘зЁвлў Ґв Ё¬ҐойЁҐбп ¤ ­­лҐ б Є« ўЁ вгал, Ґб«Ё ¦Ґ    Э
;          Ю     Є« ўЁи  ­Ґ ­ ¦ в , в® гбв ­ ў«Ёў Ґв д« Ј zf ў 0    Э
;          ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ


ReadKey proc    near
        mov     ah,6	         ;
	mov	dl,0ffh          ;Ќ®¬Ґа дг­ЄжЁЁ "‚ў®¤"
        int     21h              ;
        ret
ReadKey endp


;ЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫЫ

cseg    ends
        end     main                Title  ’Ґбв-Їа®Ја ¬¬  ¤«п ¬лиЄЁ
;        ­ ЇЁб « Љ®¦Ґў­ЁЄ®ў …ўЈҐ­Ё© 2 Єгаб 21 ЈагЇЇ , 1999Ј.
;      ЮЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЭ
;ЫЫЫЫЫЫЫ  ‘…ѓЊ…Ќ’ ‘’…ЉЂ  ЫЫЫЫЫЫЫЫЫЫЫЫ
;      ЮЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЬЭ          Ы
                                   ;Ы
